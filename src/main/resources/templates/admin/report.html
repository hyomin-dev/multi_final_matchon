<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>신고 관리</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/css/admin/report.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/aibot/aichatbot.css}">
</head>
<body>
<div th:replace="~{common/header::header}"></div>

<h1>신고 목록</h1>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>유형</th>
        <th>신고대상</th>
        <th>신고자</th>
        <th>신고분류</th>
        <th>상세사유</th>
        <th>신고일</th>
        <th>보기</th> <!-- ✅ 새 열 추가 -->
    </tr>
    </thead>
    <tbody>
    <tr th:each="report, stat : ${reports}">
        <td data-label="번호" th:text="${stat.index + 1}">1</td>
        <td data-label="유형" th:text="${report.reportType}">BOARD</td>
        <td data-label="신고대상" th:text="${report.targetWriterName}">Name</td>
        <td data-label="신고자" th:text="${report.reporterName}">홍길동</td>
        <td data-label="신고분류" th:text="${report.reasonType}">욕설/비방/괴롭힘</td>
        <td data-label="상세사유" th:text="${report.reason}">구체적인 이유</td>
        <td data-label="신고일" th:text="${#temporals.format(report.createdDate, 'yyyy-MM-dd HH:mm')}">2025-05-28</td>
        <td data-label="보기">
            <!-- 게시글 보기 -->
            <a th:if="${report.reportType == 'BOARD'}"
               th:href="@{'/community/' + ${report.boardId}}"
               class="view-link">게시글 보기</a>

            <!-- 댓글 보기: highlight 파라미터 포함 -->
            <a th:if="${report.reportType == 'COMMENT'}"
               th:href="@{'/community/' + ${report.boardId} + '?highlight=' + ${report.targetId}}"
               class="view-link">댓글 보기</a>
        </td>

    </tr>
    </tbody>
</table>

<div th:replace="~{common/footer::footer}"></div>
</body>
</html>
